{"app":"FutureTrack","version":"1.0","ranked_sources":[{"table":"pathway_requirements","score":4.8,"why":["high student relevance","stable curriculum fields","joins to pathways"],"key_fields":["requirement_type","subject_name","minimum_grade"],"joins":[{"to":"pathways","on":"pathway_requirements.pathway_id=pathways.id"}],"sample_questions":[{"intent_id":"requirements_for_pathway","label":"What are the requirements for the STPM pathway?"}],"retrieval_stubs":["SELECT pr.subject_name, pr.minimum_grade FROM pathway_requirements pr JOIN pathways p ON p.id=pr.pathway_id WHERE p.name ILIKE :pathway_name LIMIT 10;"]},{"table":"career_matches","score":4.6,"why":["high student relevance for personalization","joins user to careers","answers 'what jobs suit me?'"],"key_fields":["match_percentage","matching_factors","is_primary_goal"],"joins":[{"to":"careers","on":"career_matches.career_id=careers.id"},{"to":"users","on":"career_matches.user_id=users.id"}],"sample_questions":[{"intent_id":"top_career_matches","label":"What are my top career matches?"}],"retrieval_stubs":["SELECT c.title, cm.match_percentage, cm.matching_factors FROM career_matches cm JOIN careers c ON c.id=cm.career_id WHERE cm.user_id = :user_id ORDER BY cm.match_percentage DESC LIMIT 3;"]},{"table":"deadlines","score":4.5,"why":["answers time-sensitive student questions","stable data","joins to applications"],"key_fields":["title","due_date","urgency_level"],"joins":[{"to":"applications","on":"deadlines.application_id=applications.id"}],"sample_questions":[{"intent_id":"upcoming_deadlines","label":"What are my upcoming deadlines?"}],"retrieval_stubs":["SELECT a.name, d.title, d.due_date FROM deadlines d JOIN applications a ON a.id=d.application_id WHERE d.due_date >= :now ORDER BY d.due_date ASC LIMIT 5;"]},{"table":"university_courses","score":4.2,"why":["answers 'where can I study X?'","good coverage of courses","stable data"],"key_fields":["university_name","course_name","level","entry_requirements","career_paths"],"joins":[],"sample_questions":[{"intent_id":"universities_for_career","label":"Which universities offer courses for Data Engineers?"}],"retrieval_stubs":["SELECT university_name, course_name, level FROM university_courses WHERE JSON_CONTAINS(career_paths, '\"Data Engineer\"') LIMIT 5;"]},{"table":"user_progress","score":4.2,"why":["answers 'what should I do next?'","directly tracks student progress","joins to roadmap"],"key_fields":["task_name","status","due_date"],"joins":[{"to":"roadmap_phases","on":"user_progress.roadmap_phase_id=roadmap_phases.id"}],"sample_questions":[{"intent_id":"next_roadmap_tasks","label":"What are my next tasks on my roadmap?"}],"retrieval_stubs":["SELECT rp.name, up.task_name, up.status FROM user_progress up JOIN roadmap_phases rp ON rp.id=up.roadmap_phase_id WHERE up.user_id = :user_id AND up.status IN ('Not Started', 'In Progress') ORDER BY rp.order, up.due_date ASC LIMIT 5;"]},{"table":"academic_subjects","score":4,"why":["essential for eligibility checks","stable historical data","joins to user"],"key_fields":["subject_name","grade","exam_type"],"joins":[{"to":"users","on":"academic_subjects.user_id=users.id"}],"sample_questions":[{"intent_id":"check_eligibility_for_pathway","label":"Do my grades meet the requirements for Matriculation?"}],"retrieval_stubs":["SELECT subject_name, grade FROM academic_subjects WHERE user_id = :user_id AND exam_type = 'SPM';"]}],"recommended_intents":[{"intent_id":"compare_pathways","label":"Compare STPM vs Matriculation","source":["pathways"],"params":[{"name":"pathway_a","default":"STPM"},{"name":"pathway_b","default":"Matriculation"}],"answer_fields":["name","total_duration","cost_range_min","cost_range_max","competitiveness","pros","cons"],"guardrails":"If fewer than two rows, say data is limited."},{"intent_id":"deadlines_this_month","label":"Deadlines this month","source":["applications","deadlines"],"join":"deadlines.application_id=applications.id","filters":["due_date BETWEEN first_day(:now) AND last_day(:now)"],"answer_fields":["name","title","due_date"]},{"intent_id":"assessment_summary","label":"My interest assessment summary","source":["interest_assessments"],"by_user_fk":"interest_assessments.user_id","answer_fields":["category","answer"],"guardrails":"If no assessments are found, prompt the user to take one."},{"intent_id":"top_career_matches","label":"Top career matches","source":["career_matches","careers"],"join":"career_matches.career_id=careers.id","by_user_fk":"career_matches.user_id","answer_fields":["title","match_percentage","matching_factors"],"guardrails":"If no matches are found, suggest completing the interest assessment."},{"intent_id":"course_offerings_for_career","label":"Universities offering courses for a career","source":["university_courses"],"filters":["JSON_CONTAINS(career_paths, :career_name)"],"params":[{"name":"career_name","default":"Data Scientist"}],"answer_fields":["university_name","course_name","level","entry_requirements"]},{"intent_id":"roadmap_next_actions","label":"What should I do next?","source":["roadmap_phases","user_progress"],"join":"user_progress.roadmap_phase_id=roadmap_phases.id","by_user_fk":"user_progress.user_id","filters":["user_progress.status != 'Completed'"],"answer_fields":["name","task_name","status"]},{"intent_id":"get_pathway_requirements","label":"What are the requirements for a pathway?","source":["pathway_requirements","pathways"],"join":"pathway_requirements.pathway_id=pathways.id","filters":["pathways.name ILIKE :pathway_name"],"params":[{"name":"pathway_name","default":"STPM â†’ Degree"}],"answer_fields":["subject_name","minimum_grade","requirement_type"]},{"intent_id":"find_relevant_resources","label":"Find resources for applications","source":["resources"],"filters":["category = 'Applications'"],"answer_fields":["title","description","type"]}],"fallback_policy":{"unknown_free_text":"Sorry, I can only answer questions from the suggested list for now. Please select one of the quick questions.","log_unknowns":true},"notes":["Prefer deterministic SQL/ORM retrieval; LLM is used only to verbalize retrieved facts.","Keep each answer context under ~2 KB."],"generatedAt":"AUTO"}
